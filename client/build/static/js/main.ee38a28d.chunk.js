(this["webpackJsonpcrud-app-client"]=this["webpackJsonpcrud-app-client"]||[]).push([[0],{253:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);n(156);var a=n(0),r=n(18),c=n.n(r),s=n(28),i=n(45),o=n(74),l=n(137),d=n(32),p=n(138),u=(n(116),n(31)),j=n.n(u),b=n(51),m=n(109).create({baseURL:"https://curd-post.herokuapp.com/"});m.interceptors.request.use((function(e){var t,n=null===(t=JSON.parse(localStorage.getItem("profile")))||void 0===t?void 0:t.token;return n&&(e.headers.Authorization="bearer ".concat(n)),e}));var h=function(e){return m.post("/auth/sineUp",e)},x=function(e){return m.post("/auth/login",e)},O="SHOW_NOTIFICATION",g=function(e){return{type:O,payload:e}},f="CREATE_POST",v="DELETE_POST",y="FETCH_ALL_POST",w="UPDATE_POST",k=n(24),I=n(47),C=n(152),N=n(5),T=["children"];var S,P,_,L,F,A,q,E,R=function(e){var t=e.children,n=Object(C.a)(e,T),a=Object(s.c)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.token}));return Object(N.jsx)(k.b,Object(I.a)(Object(I.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(N.jsx)(k.a,{to:{pathname:"/auth/login",state:{from:n}}})}}))},U=n(261),D=n(262),B=n(258),J=n(259),V=n(146),z="Add_LOGIN_USER",G="LOGOUT",H=n(36),M=n(37),W={mobile:"576px",tablet:"768px",tabletL:"992px",laptop:"1200px",laptopL:"1440px"},K={mobile:"screen and (min-width: ".concat(W.mobile,")"),tablet:"screen and (min-width: ".concat(W.tablet,")"),tabletL:"screen and (min-width: ".concat(W.tabletL,")"),laptop:"screen and (min-width: ".concat(W.laptop,")"),laptopL:"screen and (min-width: ".concat(W.laptopL,")"),desktop:"screen and (min-width: ".concat(W.desktop,")")},Q=M.a.section(S||(S=Object(H.a)(["\n  max-width: 100vw;\n  padding: 0 15px;\n  margin: 0 auto;\n  background-color: ",";\n\n  @media "," {\n    max-width: 540px;\n    width: 100%;\n  }\n  @media "," {\n    max-width: 720px;\n  }\n  @media "," {\n    max-width: 960px;\n  }\n  @media "," {\n    max-width: 1199px;\n    width: 100%;\n  }\n"])),(function(e){return e.backgroundColor}),K.mobile,K.tablet,K.tabletL,K.laptop),X=M.a.section(P||(P=Object(H.a)(["\n  padding-top: 40px;\n  padding-bottom: 20px;\n\n  @media "," {\n    padding-top: 60px;\n    padding-bottom: 40px;\n  }\n\n  @media "," {\n    padding-top: 80px;\n    padding-bottom: 70px;\n  }\n"])),K.tablet,K.tabletL),Y=(M.a.section(_||(_=Object(H.a)(["\n  @media "," {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    justify-content: center;\n  }\n  @media "," {\n    grid-template-columns: repeat(3, 1fr);\n  }\n"])),K.tablet,K.tabletL),M.a.header(L||(L=Object(H.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 75vh;\n    max-width: 800px;\n    background-color: #5D3485;\n    margin: 0 auto;\n    padding: 5px;\n    \n    @media "," {\n        padding: 40px;\n    }\n     \n"])),K.tablet)),Z=function(){var e=Object(k.f)(),t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(s.b)();return Object(N.jsx)(Q,{children:Object(N.jsx)(Y,{children:Object(N.jsxs)(B.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){c(!0),o(function(e,t,n){return function(){var a=Object(b.a)(j.a.mark((function a(r){var c,s,i,o;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x(e);case 3:c=a.sent,s=c.data,console.log("\ud83d\ude80 ~ file: actions.js ~ line 34 ~ data",s),r({type:z,payload:s}),r(g({massageType:"success",message:"welcome ".concat(s.userInfo.name)})),t(!1),n.push("/"),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(0),r(g({message:null===a.t0||void 0===a.t0||null===(i=a.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message,massageType:"error"})),t(!1),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(t,c,e))},children:[Object(N.jsx)(B.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(N.jsx)(J.a,{prefix:Object(N.jsx)(U.a,{className:"site-form-item-icon"}),placeholder:"email"})}),Object(N.jsx)(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(N.jsx)(J.a,{prefix:Object(N.jsx)(D.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(N.jsxs)(B.a.Item,{children:[Object(N.jsx)(V.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:r,children:"Log in"}),"\xa0 \xa0"," ",Object(N.jsx)(i.b,{style:{color:"white"},to:"/auth/sineUp",children:"Or register now!"})]})]})})})},$=function(){return Object(N.jsx)(X,{children:Object(N.jsx)(Z,{})})},ee=function(){var e=Object(k.f)(),t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(s.b)();return Object(N.jsx)(Q,{children:Object(N.jsx)(Y,{children:Object(N.jsxs)(B.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){o(function(e,t,n){return function(){var a=Object(b.a)(j.a.mark((function a(r){var c,s,i,o;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h(e);case 3:c=a.sent,s=c.data,r({type:z,payload:s}),r(g({massageType:"success",message:"Account created successfully"})),t(!1),n.push("/"),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),r(g({message:null===a.t0||void 0===a.t0||null===(i=a.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message,massageType:"error"})),t(!1),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(t,c,e))},children:[Object(N.jsx)(B.a.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(N.jsx)(J.a,{prefix:Object(N.jsx)(U.a,{className:"site-form-item-icon"}),placeholder:"name"})}),Object(N.jsx)(B.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(N.jsx)(J.a,{prefix:Object(N.jsx)(U.a,{className:"site-form-item-icon"}),placeholder:"email"})}),Object(N.jsx)(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(N.jsx)(J.a,{prefix:Object(N.jsx)(D.a,{className:"site-form-item-icon"}),type:"password",placeholder:"password"})}),Object(N.jsx)(B.a.Item,{name:"confirm_password",rules:[{required:!0,message:"Please input your confirm_password!"}],children:Object(N.jsx)(J.a,{prefix:Object(N.jsx)(D.a,{className:"site-form-item-icon"}),type:"password",placeholder:"confirm_password"})}),Object(N.jsxs)(B.a.Item,{children:[Object(N.jsx)(V.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:r,children:"Sign Up"}),"\xa0 \xa0"," ",Object(N.jsx)(i.b,{style:{color:"white"},to:"/auth/login",children:"Or Log In!"})]})]})})})},te=function(){return Object(N.jsx)(X,{children:Object(N.jsx)(ee,{})})},ne=M.a.section(F||(F=Object(H.a)(["\n  & div {\n    padding: 20px;\n    & h1 {\n      font-size: 3rem;\n    }\n    & p {\n      color: black;\n    }\n    & img {\n      width: 100%;\n      height: 100%;\n      max-height: 80vw;\n      object-fit: cover;\n    }\n  }\n  @media "," {\n    display: flex;\n    justify-content: space-between;\n    background-color: lightgray;\n    & div {\n      flex-basis: 50%;\n    }\n  }\n  @media "," {\n    & div {\n      max-height: 30vw;\n    }\n  }\n"])),K.tablet,K.laptop),ae=function(e){var t=e.post,n=t.categories,a=(t.createdAt,t.disruption),r=t.image,c=t.title,s=t.userId;return Object(N.jsxs)(ne,{children:[Object(N.jsx)("div",{children:Object(N.jsx)("img",{src:r,alt:""})}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("h1",{children:["Title: ",c]}),Object(N.jsxs)("p",{children:["Catagories: ",n]}),Object(N.jsxs)("p",{children:["Author ID: ",s]}),Object(N.jsx)("p",{children:a})]})]})},re=function(){var e=Object(k.g)().id,t=Object(s.c)((function(e){return e.posts})).find((function(t){return t._id===e}));return Object(N.jsx)(Q,{children:Object(N.jsx)(X,{children:t&&Object(N.jsx)(ae,{post:t})})})},ce=n(260),se=function(e){var t=e.name,n=e.label,a=e.help,r=e.required,c=e.message,s=(e.prefix,e.placeholder,e.onBlur,e.value);return Object(N.jsx)(B.a.Item,{label:n,name:t,help:a,rules:[{required:r,message:c}],children:Object(N.jsx)(J.a,{name:t,defaultValue:s})})},ie=n(109),oe=n.n(ie),le=M.a.div(A||(A=Object(H.a)(["\n  background-color: lightgreen;\n  display: inline-block;\n  margin-bottom: 20px;\n  & span {\n    padding-bottom: 5px;\n  }\n  & input {\n    border: none;\n    outline: none;\n  }\n"]))),de=function(e){var t=e.priviesImage,n=e.handelBlur,r=Object(a.useState)(""),c=Object(d.a)(r,2),s=c[0],i=c[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(le,{class:"",children:[Object(N.jsx)("i",{class:"fa fa-upload","aria-hidden":"true"})," \xa0",Object(N.jsx)("span",{children:"Upload Post Image"}),Object(N.jsx)("input",{type:"file",class:"upload",onChange:function(e){(function(e){n({image:""});var t=new FormData;return t.set("key","df4598080cf75bed94d127b4e328aa24"),t.append("image",e),oe()({method:"post",url:"https://api.imgbb.com/1/upload",data:t})})(e.target.files[0]).then((function(e){i(e.data.data.image.url),n({image:e.data.data.image.url})})),e.preventDefault()}})]}),(t||s)&&Object(N.jsx)("img",{src:s||t,height:200,width:200,style:{objectFit:"cover",marginBottom:"25px",display:"block"}})]})},pe=(J.a.TextArea,function(e){var t=e.onClose,n=Object(s.b)(),r=Object(a.useState)(!1),c=Object(d.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)({}),p=Object(d.a)(l,2),u=p[0],h=p[1];return Object(N.jsx)("div",{className:"card bg-light rounded-lg",children:Object(N.jsx)("div",{className:"card-body",children:Object(N.jsx)("div",{className:"",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsxs)("div",{className:"col-lg-8 mx-auto",children:[Object(N.jsx)("h2",{className:"mb-4",children:Object(N.jsx)("strong",{children:"Create New Post"})}),Object(N.jsxs)(B.a,{layout:"vertical",initialValues:{remember:!1},onFinish:function(e){o(!0),n(function(e,t,n){return function(){var a=Object(b.a)(j.a.mark((function a(r){var c,s;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i=e,m.post("/posts",i);case 3:c=a.sent,s=c.data,r(g({massageType:"success",message:"Post created successfully"})),r({type:f,payload:s}),t(!1),n(),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),r(g({message:a.t0.message,massageType:"error"})),t(!1);case 15:case"end":return a.stop()}var i}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(Object(I.a)(Object(I.a)({},e),u),o,t))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(N.jsx)(de,{priviesImage:u.image,handelBlur:function(e){h(e)}}),Object(N.jsx)(se,{name:"title",label:"Post Title",required:!0}),Object(N.jsx)(se,{name:"categories",label:"Post Categories"}),Object(N.jsx)(se,{name:"disruption",label:"Post disruption",rows:4}),Object(N.jsx)(B.a.Item,{children:Object(N.jsx)(V.a,{loading:i,className:"btn btn-outline-primary mb-1",htmlType:"submit",children:"Submit"})})]})]})})})})})}),ue=function(e){var t=e.content,n=Object(a.useState)(!1),r=Object(d.a)(n,2),c=r[0],s=r[1],i=function(){s(!1)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(V.a,{type:"primary",onClick:function(){s(!0)},children:t}),Object(N.jsx)(ce.a,{title:"Basic Drawer",placement:"right",onClose:i,visible:c,width:"70%",children:Object(N.jsx)(pe,{onClose:i})})]})},je=M.a.header(q||(q=Object(H.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: lightgray;\n  padding: 20px 30px ;\n  @media "," {\n    padding: 20px 110px ;\n  }\n"])),K.tablet),be=function(){return Object(N.jsxs)(je,{children:[Object(N.jsx)("h4",{children:"Post App"}),Object(N.jsx)(ue,{content:"Create Post"})]})},me=n(257),he=(me.a.Meta,function(e){var t=e.post,n=t.image,a=t.title,r=t._id;return Object(N.jsx)(i.b,{to:"/post/".concat(r),children:Object(N.jsx)(me.a,{hoverable:!0,style:{width:240,height:"100%",boxShadow:"0px 0px 10px lightgray",borderRadius:"5px"},cover:Object(N.jsx)("img",{alt:"example",src:n,style:{width:240,height:240,objectFit:"cover"}}),children:Object(N.jsxs)("h2",{children:["Title: ",a]})})})}),xe=M.a.header(E||(E=Object(H.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 30px;\n  padding: 3rem 0;\n"]))),Oe=function(){var e=Object(s.c)((function(e){return e.posts}));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(xe,{children:e.map((function(e){return Object(N.jsx)(he,{post:e},e._id)}))})})},ge=function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2);t[0],t[1];return Object(N.jsxs)("div",{children:[Object(N.jsx)(be,{}),Object(N.jsx)(Q,{children:Object(N.jsx)(Oe,{})})]})},fe=[{path:"/",Component:ge,exact:!0,ComponentRoute:R},{path:"/posts",Component:ge,exact:!0,ComponentRoute:R},{path:"/post/:id",Component:re,exact:!0,ComponentRoute:R},{path:"/auth/login",Component:$,exact:!0,ComponentRoute:k.b},{path:"/auth/sineUp",Component:te,exact:!0,ComponentRoute:k.b}],ve=function(){return Object(N.jsx)(N.Fragment,{children:fe.map((function(e){var t=e.path,n=e.Component,a=e.exact,r=e.ComponentRoute;return Object(N.jsx)(r,{path:t,exact:a,children:Object(N.jsx)(n,{})},t)}))})},ye=function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),n=t[0],r=(t[1],Object(s.b)());return Object(a.useEffect)((function(){r(function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/posts");case 3:n=e.sent,a=n.data,t({type:y,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(g({message:e.t0.message,massageType:"error"}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[n,r]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ve,{}),Object(N.jsx)(p.NotificationContainer,{})]})},we=(n(253),n(145)),ke={};var Ie=function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,r=arguments.length>1?arguments[1]:void 0,c=null===r||void 0===r||null===(e=r.payload)||void 0===e?void 0:e.massageType;switch(r.type){case O:return we.a[c]({message:null===(t=r.payload)||void 0===t?void 0:t.message,description:null===(n=r.payload)||void 0===n?void 0:n.description}),a;default:return a}},Ce=n(147),Ne={token:null,userInfo:{id:"",name:"",email:"",isAdmin:!1}};var Te=Object(o.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.payload;case f:return[].concat(Object(Ce.a)(e),[t.payload]);case w:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case v:return e.filter((function(e){return e._id!==t.payload}));default:return e}},notifications:Ie,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return localStorage.setItem("profile",JSON.stringify(t.payload)),Object(I.a)(Object(I.a)({},e),t.payload);case G:return localStorage.setItem("profile",JSON.stringify(null)),Object(I.a)(Object(I.a)({},t.payload),{},{token:null});default:var n=JSON.parse(localStorage.getItem("profile")||"{}");return n}}}),Se=Object(o.d)(Te,Object(o.c)(Object(o.a)(l.a)));c.a.render(Object(N.jsx)(i.a,{children:Object(N.jsx)(s.a,{store:Se,children:Object(N.jsx)(ye,{})})}),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.ee38a28d.chunk.js.map